---
phase: 01-navigation-site-structure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/Navbar.tsx
  - src/components/layout/Footer.tsx
  - src/components/layout/index.ts
  - src/data/navigationData.ts
  - src/app/layout.tsx
autonomous: false
---

<objective>
## Goal
Create a premium responsive navbar with mobile hamburger menu and a footer component — the global navigation structure for all pages.

## Purpose
Every new page (Portfolio, Cursos, Espaço, Serviços) requires a shared navigation. This is the foundational component that enables multi-page expansion. The navbar must feel premium and anti-generic — consistent with Str8Global's identity.

## Output
- `src/components/layout/Navbar.tsx` — Responsive navbar with animated mobile menu
- `src/components/layout/Footer.tsx` — Footer with links, social, contact
- `src/components/layout/index.ts` — Barrel exports
- `src/data/navigationData.ts` — Centralized navigation data
- Updated `src/app/layout.tsx` — Integrate Navbar + Footer
</objective>

<context>
## Project Context
@.paul/PROJECT.md
@.paul/ROADMAP.md
@.paul/STATE.md

## Source Files
@src/app/layout.tsx
@src/app/globals.css
@src/data/mockData.ts (siteCopy.contact, siteCopy.social, siteCopy.brand)
@src/components/animations/index.ts
</context>

<skills>
## Required Skills (from SPECIAL-FLOWS.md)

| Skill | Priority | When to Invoke | Loaded? |
|-------|----------|----------------|---------|
| gsap-react | required | Navbar scroll animations | ○ |
| tailwindcss-animations | required | Mobile menu transitions | ○ |
| react-best-practices | optional | Component patterns | ○ |
| accessibility-testing | optional | Keyboard navigation | ○ |

**BLOCKING:** gsap-react and tailwindcss-animations must be loaded before APPLY proceeds.

## Skill Invocation Checklist
- [ ] /gsap-react loaded
- [ ] /tailwindcss-animations loaded
</skills>

<acceptance_criteria>

## AC-1: Navbar Desktop Navigation
```gherkin
Given the user is on any page at desktop viewport (≥768px)
When the page loads
Then a fixed navbar appears at the top with:
  - Str8Global logo (left) linking to /
  - Navigation links: Portfolio, Cursos, Espaço, Aluguel, Serviços
  - CTA button "Contactar" (right) linking to /#contacto
  - Transparent background that gains backdrop-blur on scroll
```

## AC-2: Navbar Mobile Menu
```gherkin
Given the user is on any page at mobile viewport (<768px)
When the user taps the hamburger icon
Then a full-screen overlay menu animates open with:
  - All navigation links stacked vertically
  - Close button (X)
  - Social links at bottom
  - Body scroll locked while open
And when a link is tapped, the menu closes and navigates
```

## AC-3: Navbar Scroll Behavior
```gherkin
Given the user is on any page
When the user scrolls down past 100px
Then the navbar background transitions from transparent to bg-black/80 with backdrop-blur
And when the user scrolls back to top
Then the navbar returns to transparent
```

## AC-4: Footer Component
```gherkin
Given the user is on any page
When the user scrolls to the bottom
Then a footer appears with:
  - Str8Global brand name and tagline
  - Navigation links (same as navbar)
  - Social links (Instagram, LinkedIn, Behance, Vimeo)
  - Contact info (email, phone, location)
  - Copyright text
  - Accent magenta divider line at top
```

## AC-5: Layout Integration
```gherkin
Given any page in the app
When the page renders
Then the Navbar appears above the page content
And the Footer appears below the page content
And neither duplicates across navigations
```

</acceptance_criteria>

<tasks>

<task type="auto">
  <name>Task 1: Create navigation data file</name>
  <files>src/data/navigationData.ts</files>
  <action>
    Create centralized navigation data:
    - NavItem interface: { id, label, href, isExternal? }
    - mainNav array: Home (/), Portfolio (/portfolio), Cursos (/cursos), Espaço (/espaco), Aluguel (/aluguel), Serviços (/servicos)
    - socialLinks array: source from siteCopy.social with URLs (Instagram, LinkedIn, Behance, Vimeo)
    - contactInfo: source from siteCopy.contact (email, phone, location)
    - footerNav: same as mainNav + Contacto (#contacto)
    - Keep consistent with PT-PT labels
    - Do NOT duplicate data already in mockData.ts — import and extend where possible
  </action>
  <verify>TypeScript compiles without errors: npx tsc --noEmit</verify>
  <done>AC-1, AC-4: Navigation data defined and typed</done>
</task>

<task type="auto">
  <name>Task 2: Create Navbar component with mobile menu</name>
  <files>src/components/layout/Navbar.tsx, src/components/layout/index.ts</files>
  <action>
    Create Navbar.tsx:
    - 'use client' component
    - Fixed position, z-50, full-width
    - Desktop (≥md): logo left, nav links center, CTA button right
    - Mobile (<md): logo left, hamburger icon right
    - Scroll detection: transparent → bg-black/80 backdrop-blur-lg after 100px scroll
    - Use framer-motion for scroll-based background transition
    - Logo: text "Str8Global" or import PremiumLogo if appropriate size
    - CTA: "Contactar" button with accent bg, rounded-full

    Mobile menu:
    - Full-screen overlay (fixed inset-0, bg-black/95, z-[60])
    - AnimatePresence + motion.div for open/close animation
    - Links stacked vertically, large font, stagger entrance
    - Close button (X icon from lucide-react)
    - Social links at bottom
    - Lock body scroll when open (overflow: hidden on body)
    - Close on link click, close on Escape key

    Active link indicator: accent underline or color for current route
    Use next/link for all internal links
    Use usePathname() from next/navigation for active state

    Avoid:
    - useRouter for navigation (use Link instead)
    - Inline styles (use Tailwind)
    - Hardcoded navigation items (use navigationData.ts)
  </action>
  <verify>
    npm run dev — navbar visible on all pages, mobile menu opens/closes, scroll effect works
  </verify>
  <done>AC-1, AC-2, AC-3 satisfied</done>
</task>

<task type="auto">
  <name>Task 3: Create Footer component</name>
  <files>src/components/layout/Footer.tsx</files>
  <action>
    Create Footer.tsx:
    - 'use client' component
    - Dark background (bg-black or bg-[#050507])
    - Top accent line: 1px h-px bg-gradient from transparent to accent to transparent
    - 4-column grid on desktop, stacked on mobile:
      - Col 1: Brand name + tagline + brief description
      - Col 2: Navigation links (from navigationData.ts)
      - Col 3: Social links with icons (lucide-react or custom)
      - Col 4: Contact info (email, phone, location)
    - Bottom bar: copyright text centered, text-white/40
    - Subtle scroll-reveal animation (motion.div whileInView)
    - Use Link for internal navigation
    - Social links open in new tab (target="_blank" rel="noopener")

    Avoid:
    - Duplicating the Contact section from homepage
    - Adding a contact form here (that's Phase 7)
    - Heavy animations (footer should be clean and readable)
  </action>
  <verify>
    npm run dev — footer visible on all pages, links work, responsive layout correct
  </verify>
  <done>AC-4 satisfied</done>
</task>

<task type="auto">
  <name>Task 4: Integrate Navbar + Footer into layout</name>
  <files>src/app/layout.tsx</files>
  <action>
    Update layout.tsx:
    - Import Navbar and Footer from @/components/layout
    - Add Navbar ABOVE {children} (inside GSAPProvider)
    - Add Footer BELOW {children} (inside GSAPProvider)
    - Ensure providers order: LenisProvider > GSAPProvider > Navbar + children + Footer
    - Do NOT modify existing provider structure
    - Do NOT change metadata or font configuration
    - Add barrel export in src/components/layout/index.ts: export { Navbar } and { Footer }
  </action>
  <verify>
    npm run build — builds without errors
    npm run dev — navbar and footer visible on both / and /aluguel pages
  </verify>
  <done>AC-5 satisfied</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Global Navbar (desktop + mobile) and Footer integrated into all pages</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000
    3. Test desktop:
       - Navbar visible with logo, links, CTA
       - Scroll down: background becomes blurred/dark
       - Click links: navigate between pages
    4. Test mobile (resize to <768px):
       - Hamburger icon visible
       - Tap: full-screen menu opens with animation
       - Tap link: menu closes, navigates
       - Press Escape: menu closes
    5. Visit: http://localhost:3000/aluguel
       - Same navbar and footer present
    6. Confirm: Footer has brand, links, social, contact, copyright
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<boundaries>

## DO NOT CHANGE
- src/components/sections/* (existing page sections)
- src/components/animations/* (existing animation components)
- src/components/effects/* (existing visual effects)
- src/data/mockData.ts (existing content data — import, don't modify)
- src/data/rentalData.ts (rental data)
- src/app/page.tsx (homepage composition)
- src/app/aluguel/page.tsx (rental page)
- src/hooks/* (existing hooks)
- src/providers/* (provider implementations — only modify layout.tsx import)
- src/app/globals.css (design system styles)

## SCOPE LIMITS
- This plan creates Navbar + Footer only — no new pages
- No routing changes beyond what layout.tsx needs
- No new page routes (that's Plan 01-02)
- No contact form (that's Phase 7)
- No booking integration (that's Phase 6)

</boundaries>

<verification>
Before declaring plan complete:
- [ ] `npx tsc --noEmit` passes (no TypeScript errors)
- [ ] `npm run build` completes successfully
- [ ] Navbar visible on / and /aluguel
- [ ] Mobile menu opens/closes with animation
- [ ] Scroll effect works (transparent → blurred)
- [ ] Footer visible on all pages with correct content
- [ ] Active link highlighting works
- [ ] Keyboard accessible (Tab through links, Escape closes mobile menu)
- [ ] No console errors in browser
</verification>

<success_criteria>
- All 4 auto tasks completed
- Human verification checkpoint approved
- Build passes clean
- Navbar + Footer render on all existing pages
- Mobile menu fully functional
- No existing functionality broken
</success_criteria>

<output>
After completion, create `.paul/phases/01-navigation-site-structure/01-01-SUMMARY.md`
</output>
